<!doctype html>
<html>
   <head>
       <meta charset="utf-8" />
       <title></title>
       <style>

       </style>
   </head>

   <body>
       <ul class="box">
           <li>中国机长</li>
           <li>攀登者</li>
           <span>我是span</span>
           <li>我和我的祖国</li>
           <li>流浪地球</li>
           <li>哪吒</li>
       </ul>
       <button>添加电影</button>
       <script>
        //   思路 : 先完成li的添加,后完成任务委派变色(封装函数)
           window.onload = function(){
               var ulNode = document.querySelector("ul");
               var  btn = document.querySelector("button");

               btn.addEventListener("click", function(){
                var li = document.createElement("li");
                li.innerText = "我是你爹";
                ulNode.appendChild(li);
               },false)

               //不管你是新的li还是旧的li,出生就是ulNode的子元素,因此出生直接附带事件监听,这也是事件委派的用处
               ulNode.onmouseover = function (event){
                   event = event || window.event; //对象事件兼容
                   var target = event.target||event.srcElement;
                    if(target.nodeName === "LI"){  //必须判断不然 除了移入子元素产生的冒泡事件冒泡到ulnode,还会有ul自身产生的事件,也会执行代码块,只不过此处ul全被li占满了
                        target.style.background = 'skyblue';
                    }
               }
               ulNode.onmouseout = function (event){
                    event = event || window.event; 
                    var target = event.target||event.srcElement;
                    if(target.nodeName === "LI"){
                        target.style.background = 'pink';
                    }
               }
               
               //其实可以添加上，因为这次是滑动即添加对ul的任意子元素都生效;而不是以前for循环遍历一个个li分别添加事件监听
           }
       </script>
   </body>
</html>