<!-- 事件循环机制 同步和异步的补充 -->
<!-- 
    进程:程序的一次执行过程,独占内存空间
    线程: CPU的基本调度单位,是程序执行的一个完整流程
    进程与线程: 
        一个进程至少有一个线程:主线程
        一个进程可同时运行多个线程;
        一个进程内的数据可供其中的多个线程使用;
        但是不同进程内的数据 不能 直接 共享,需要独立的通信方法

    火狐,老IE是单进程浏览器
    谷歌,新IE是多进程浏览器

    但是所有浏览器都是多线程浏览器(每个页面一个线程)

    为什么js用单线程: 
    JS作为浏览器脚本语言,js的主要用途是与用户互动,以及操作DOM
    这决定它只能是单线程,否则会带来很复杂的同步问题(多线程资源同步问题,操作系统)

    而js语言是单线程的
    所以代码分为同步代码和异步代码;
    异步代码只有在执行栈中的同步代码执行完后才有可能执行;

    js引擎执行代码的基本流程:
        先执行同步代码
        设置定时器
        绑定监听
        发生ajax请求
        后面在某一时刻才会执行异步代码

    同步 同步执行完成才会去执行异步
    异步 异步任务都会有自己的管理模块进行托管
    
  
    js执行代码的主要流程:
    单线程: 从上至下依次执行代码
           若执行的为同步代码,则正常执行,
           若遇见异步代码(回调函数,定时器回调函数,ajax回调函数,事件监听回调函数,生命周期回调函数),会将其交给对应的管理模块,然后继续往下执行
           而管理模块会监督异步任务是否达到执行条件,若达到,将异步任务添加到事件队列中,事件队列FIFO;
           当所有同步代码执行完毕之后,开始执行事件队列中的异步任务;
    
    同步任务: 绑定事件监听 发送ajax的请求 设置定时器(所以2s一开始就开始计时了,只不过计时到了同步代码还没执行完,只能在事件队列中等了)
    异步代码: 回调函数 事件的回调处理函数  定时器的回调处理函数  ajax的回调函数  生命周期回调函数 4大主要 异步任务
    
        //4. 模型的运转流程
  			// * 执行初始化代码, 将事件回调函数交给对应模块管理
  			// * 当事件发生时, 管理模块会将回调函数及其数据添加到回调列队中
  			// * 只有当初始化代码执行完后(可能要一定时间), 才会遍历读取事件队列中的回调函数执行

        函数中arugment.callee 指向函数本身的地址,可以利用此防止函数被污染,回调函数中常用;
 -->

 <!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			
			var a = 0;
			
			setTimeout(function(){
				console.log('赵丽颖');
			},5000);
			
			
			setTimeout(function(){
				console.log('戚薇');
			},2000);
			//在事件队列中,第二个定时器首先达到事件要求,被管理模组先推入事件队列(FIFO),所以执行完同步代码后先打印戚薇
			
			
			for(var i = 0; i < 100000; i++){
				for(var j = 0; j < 50000; j++){
					a++;
				}
			}
            //这个for太过耗时了,整个主线程在此阻塞,导致定时器定时不准,应该利用模拟多线程来解决这个问题;

        
			
		</script>
	</body>
</html>
